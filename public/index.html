<html>
<head>

<link rel='stylesheet' type='text/css' href='foundation/css/foundation.css'>
<link rel='stylesheet' type='text/css' href='custom.css'>
<script src='http://code.jquery.com/jquery.min.js' type='text/javascript'></script>
<script src='../socket.io/socket.io.js'></script>
</head>

<body>
<script src='/foundation/js/foundation/foundation.js'></script>
<script src='/foundation/js/foundation/foundation.reveal.js'></script>
<div id='name-input'>
	<h4>First name:</h4> <input type='text' name='fname'><br>
	<h4>Last name:</h4><input type='text' name='lname'><br>
	<div class='btn'><button id='sign-in'>Submit</button></div>
</div>

<div id='symptoms'>
	<h4>Do you have any symptoms since you last updated your profile?</h4>
	<textarea id='symptoms-text' rows='4' cols='50' style='resize:none'></textarea><br>
	<div class='btn'>
		<button id='symptom-submit'>Submit</button>
		<button id='skip-symptom'>Skip</button>
	</div>
</div>

<div id='previous-input'>
	<h4>Your most up-to-date information:</h4>
	<br>
	<div id='previous-input-text'></div>
	<div class='btn'>
		<button id='previous-input-next'>Next</button>
	</div>
</div>

<div id='phq-survey'>
	<h4>Over the last two weeks, how often have you been bothered by any of the following problems?</h4><br>

	<p style="font-family:verdana;color:#3090C7;font-size:20px;">

	<table align="center" cellpadding="10" width="800">

		<tr>
		  <td><div style="width: 50px"><div class="numberCircle">1</div></div></td>
		  <td>Little interest or pleasure in doing things</td> 
		  <td><div style="width: 800px">
		  	<input type="radio" id="radio1" name="radios1" value="0">
		       <label for="radio1">Not at all</label>
		    <input type="radio" id="radio2" name="radios1"value="1">
		       <label for="radio2">Several days</label>
		    <input type="radio" id="radio3" name="radios1" value="2">
		       <label for="radio3">More than half the days</label> 
	        <input type="radio" id="radio4" name="radios1" value="3">
	       	   <label for="radio4">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">2</div></td>
		  <td>Feeling down, depressed, or hopeless</td> 
		  <td><div style="width: 800px">
		  <input type="radio" id="radio5" name="radios2" value="0">
     	  <label for="radio5">Not at all</label>
   		 <input type="radio" id="radio6" name="radios2" value="1">
    	   <label for="radio6">Several days</label>
  		  <input type="radio" id="radio7" name="radios2" value="2">
     	  <label for="radio7">More than half the days</label> 
  		  <input type="radio" id="radio8" name="radios2" value="3">
   	  	 <label for="radio8">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">3</div></td>
		  <td>Trouble falling or staying asleep, or sleeping too much</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio9" name="radios3" value="0">
     	  <label for="radio9">Not at all</label>
   		 <input type="radio" id="radio10" name="radios3" value="1">
    	   <label for="radio10">Several days</label>
  		  <input type="radio" id="radio11" name="radios3" value="2">
     	  <label for="radio11">More than half the days</label> 
  		  <input type="radio" id="radio12" name="radios3" value="3">
   	  	 <label for="radio12">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">4</div></td>
		  <td>Feeling tired or having little energy</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio13" name="radios4" value="0">
     	  <label for="radio13">Not at all</label>
   		 <input type="radio" id="radio14" name="radios4" value="1">
    	   <label for="radio14">Several days</label>
  		  <input type="radio" id="radio15" name="radios4" value="2">
     	  <label for="radio15">More than half the days</label> 
  		  <input type="radio" id="radio16" name="radios4" value="3">
   	  	 <label for="radio16">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">5</div></td>
		  <td>Poor appetite or overeating</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio17" name="radios5" value="0">
     	  <label for="radio17">Not at all</label>
   		 <input type="radio" id="radio18" name="radios5" value="1">
    	   <label for="radio18">Several days</label>
  		  <input type="radio" id="radio19" name="radios5" value="2">
     	  <label for="radio19">More than half the days</label> 
  		  <input type="radio" id="radio20" name="radios5" value="3">
   	  	 <label for="radio20">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">6</div></td>
		  <td>Feeling bad about yourself - or that you are a failure or have let yourself or your family down</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio21" name="radios6" value="0">
     	  <label for="radio21">Not at all</label>
   		 <input type="radio" id="radio22" name="radios6" value="1">
    	   <label for="radio22">Several days</label>
  		  <input type="radio" id="radio23" name="radios6" value="2">
     	  <label for="radio23">More than half the days</label> 
  		  <input type="radio" id="radio24" name="radios6" value="3">
   	  	 <label for="radio24">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">7</div></td>
		  <td>Trouble concentrating on things, such as reading the newspaper or watching television</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio25" name="radios7" value="0">
     	  <label for="radio25">Not at all</label>
   		 <input type="radio" id="radio26" name="radios7" value="1">
    	   <label for="radio26">Several days</label>
  		  <input type="radio" id="radio27" name="radios7" value="2">
     	  <label for="radio27">More than half the days</label> 
  		  <input type="radio" id="radio28" name="radios7" value="3">
   	  	 <label for="radio28">Nearly every day</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">8</div></td>
		  <td>Thoughts that you would be better off dead, or of hurting yourself</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio29" name="radios8" value="0">
     	  <label for="radio29">Not at all</label>
   		 <input type="radio" id="radio30" name="radios8" value="1">
    	   <label for="radio30">Several days</label>
   		 <input type="radio" id="radio31" name="radios8" value="1">
    	   <label for="radio31">Several days</label>
    	   <input type="radio" id="radio32" name="radios8" value="1">
    	   <label for="radio32">Several days</label></div></td>
		</tr>		

		<tr>
		  <td><div class="numberCircle">9</div></td>
		  <td>Moving or speaking so slowly that other people could have noticed. Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio33" name="radios9" value="0">
     	  <label for="radio33">Not at all</label>
   		 <input type="radio" id="radio34" name="radios9" value="1">
    	   <label for="radio34">Several days</label>
   		 <input type="radio" id="radio35" name="radios9" value="1">
    	   <label for="radio35">Several days</label>
    	   <input type="radio" id="radio36" name="radios9" value="1">
    	   <label for="radio36">Several days</label></div></td>
		</tr>

		<tr>
		  <td><div class="numberCircle">10</div></td>
		  <td>If you checked off any problems, how difficult have these problems made it for you to do your work, take care of things at home, or get along with other people?</td> 
		  <td><div style="width: 800px"><input type="radio" id="radio37" name="radios10" value="0">
     	  <label for="radio37">Not at all</label>
   		 <input type="radio" id="radio38" name="radios10" value="1">
    	   <label for="radio38">Several days</label>
   		 <input type="radio" id="radio39" name="radios10" value="1">
    	   <label for="radio39">Several days</label>
    	   <input type="radio" id="radio40" name="radios10" value="1">
    	   <label for="radio40">Several days</label></div></td>
		</tr>
	</table>

	<div class='btn'>
		<button id='phq-submit'>Submit</button>
		<button id='skip-phq'>Skip</button>
	</div>

</div>

<div id='skin-quiz'>
    <table align="center" cellpadding="10" width="800">
        <tr>
            <td><div class='numberCircle'>1</div></td>
            <td>Your eye color is: </td>
            <td><div style='width:800px'><input type='radio' id="radio41" name="radios11" value="0">
                <label for="radio41">Light blue, light gray, or light green</label>
            <input type='radio' id="radio42" name="radios11" value="0"> 
                <label for="radio42">Blue, gray, or green</label>
            <input type='radio' id="radio43" name="radios11" value="0">
                <label for="radio43">Hazel or light brown</label>
            <input type='radio' id="radio44" name="radios11" value="0">
                <label for="radio44">Dark brown</label>
            </div>
                </td>
        </tr>
        
        <tr>
            <td><div class='numberCircle'>2</div></td>
            <td>Your natural hair color is: </td>
            <td><div style='width:800px'><input type='radio' id="radio46" name="radios12" value="0">
                <label for="radio46">Red or light blonde</label>
            <input type='radio' id="radio47" name="radios12" value="0"> 
                <label for="radio47">Blonde</label>
            <input type='radio' id="radio48" name="radios12" value="0">
                <label for="radio48">Light brown</label>
            <input type='radio' id="radio49" name="radios12" value="0">
                <label for="radio49">Dark brown</label>
            <input type='radio' id="radio50" name="radios12" value="0">
                <label for="radio49">Black</label>
            </div></td>
        </tr>
        
        <tr>
            <td><div class='numberCircle'>3</div></td>
            <td>Your natural skin color (before sun exposure) is: </td>
            <td><div style='width:800px'><input type='radio' id="radio51" name="radios13" value="5">
                <label for="radio51">Ivory white </label>
            <input type='radio' id="radio42" name="radios13" value="4"> 
                <label for="radio52">Fair/pale</label>
            <input type='radio' id="radio53" name="radios13" value="3">
                <label for="radio53">Fair to beige</label>
            <input type='radio' id="radio54" name="radios13" value="2">
                <label for="radio54">Olive or light brown</label>
            <input type='radio' id="radio55" name="radios13" value="1">
                <label for="radio55">Dark brown or black</label>
            </div></td>
        </tr>
   
        <tr>
            <td><div class='numberCircle'>4</div></td>
            <td>How many freckles do you have on unexposed areas of your skin? </td>
            <td><div style='width:800px'><input type='radio' id="radio56" name="radios14" value="5">
                <label for="radio56">Many </label>
            
            <input type='radio' id="radio57" name="radios14" value="4"> 
                <label for="radio57">Several</label>
            
            <input type='radio' id="radio58" name="radios14" value="3">
                <label for="radio58">A few</label>
            
            <input type='radio' id="radio59" name="radios14" value="2">
                <label for="radio59">Very few</label>
            </td>
            <td><input type='radio' id="radio60" name="radios14" value="1">
                <label for="radio60">None</label>
            </div></td>
        </tr>

        <tr>
            <td><div class='numberCircle'>5</div></td>
            <td>How does your skin respond to the sun? </td>
            <td><div style='width:800px'><input type='radio' id="radio61" name="radios15" value="5">
                <label for="radio61">Always burns/blisters </label>
            <input type='radio' id="radio62" name="radios15" value="4"> 
                <label for="radio62">Often burns</label>
            <input type='radio' id="radio63" name="radios15" value="3">
                <label for="radio63">Burns moderately</label>
            <input type='radio' id="radio64" name="radios15" value="2">
                <label for="radio64">Burns rarely</label>
            <input type='radio' id="radio65" name="radios15" value="1">
                <label for="radio65">Never burns</label>
            </div></td>
        </tr>

        <tr>
            <td><div class='numberCircle'>6</div></td>
            <td>Does your skin tan? </td>
            <td><div style='width:800px'><input type='radio' id="radio66" name="radios16" value="5">
                <label for="radio66">Never -- I always burn </label>
            <input type='radio' id="radio67" name="radios16" value="4"> 
                <label for="radio67">Seldom</label>
            <input type='radio' id="radio68" name="radios16" value="3">
                <label for="radio68">Sometimes</label>
            <input type='radio' id="radio69" name="radios16" value="2">
                <label for="radio69">Often</label>
            <input type='radio' id="radio70" name="radios16" value="1">
                <label for="radio70">Always</label>
            </div></td>
        </tr>

        <tr>
            <td><div class='numberCircle'>7</div></td>
            <td>How deeply do you tan?</td>
            <td><div style='width:800px'><input type='radio' id="radio71" name="radios17" value="5">
                <label for="radio71">My skin is naturally black </label>
            <input type='radio' id="radio72" name="radios17" value="4"> 
                <label for="radio72">Deeply</label>
            <input type='radio' id="radio73" name="radios17" value="3">
                <label for="radio73">Moderately</label>
            <input type='radio' id="radio74" name="radios17" value="2">
                <label for="radio74">Lightly</label>
            <input type='radio' id="radio75" name="radios17" value="1">
                <label for="radio75">Not at all or very dark</label>
            </div></td>
        </tr>

        <tr>
            <td><div class='numberCircle'>8</div></td>
            <td>How sensitive is your face to the sun? </td>
            <td><div style='width:800px'><input type='radio' id="radio76" name="radios18" value="5">
                <label for="radio76">Very sensitive </label>
            <input type='radio' id="radio77" name="radios18" value="4"> 
                <label for="radio77">Sensitive</label>
            <input type='radio' id="radio78" name="radios18" value="3">
                <label for="radio78">Normal</label>
            <input type='radio' id="radio79" name="radios18" value="2">
                <label for="radio79">Resistant</label>
            <input type='radio' id="radio80" name="radios18" value="1">
                <label for="radio80">Very resistant/Never had a problem</label>
            </div></td>
        </tr>
    </table>

	<div class='btn'>
		<button id='skin-submit'>Submit</button> 
		<button id='skip-skin-quiz'>Skip</button>
	</div>
</div>

<div id='skin-picture'>
	<h4 style='text-align:center'>Do you have a skin concern? Snap a photo of the affected area.</h4>
	<div class='btn'><button id="take-pic">Take Photo</button></div>
	<video id="video" width="640" height="480" autoplay></video>
	<br>
	<canvas id="canvas" width="640" height="480"></canvas>

	<div class='btn'>
		<button id='skin-pic-submit'>Submit</button> 
		<button id='skip-skin-pic'>Skip</button>
	</div>
</div>

<div id='obesity-quiz'>
    <table align="center" cellpadding="10" width="800">
        <tr>
            <td><div class='numberCircle'>1</div></td>
            <td>Do you exercise less than three times a week? </td>
            <td><div style='width:800px'><input type='radio' id="radio_obesity_1_yes" name="radios_obesity_1" value="1">
                <label for="radio_obesity_1_yes">Yes </label>
            <input type='radio' id="radio_obesity_1_no" name="radios_obesity_1" value="0"> 
                <label for="radio_obesity_1_no">No</label>
            </div></td>
        </tr>
    
        <tr>
            <td><div class='numberCircle'>2</div></td>
            <td>What's your height?</td>
            <td><div style='width:800px'><input type='text' id="feet" size="2" placeholder="e.g. 5" style='width:70px; display:inline'> feet  
                <input type='text' id="inches" style='width:70px; display: inline' size="5" placeholder="e.g. 10"> inches
            </div></td>
        </tr>
		
    
        <tr>
            <td><div class='numberCircle'>3</div></td>
            <td>What's your weight? </td>
            <td><div style='width:800px'><input type='text' style='width:85px; display: inline' id='weight' size='5' placeholder='e.g. 150'> pounds
            </div></td>
        </tr>
    
    <tr>
    	<td>Sum:</td>
    	<td><button class='btn' style='font-color:white' value='Calculate My BMI' onclick="calculate()" />Calculate</button></td>
    	<td><div style='width:800px'>
            <p id='result'>                        </p>
            <p id='w_status'>                          </p>
        </div></td>
    </tr>
    
    <tr>
        <td><div class='numberCircle'>4</div></td>
        <td>Do you have a family history of heart disease, diabetes, obesity or hypertension? </td>
        <td><div style='width:800px'><input type='radio' id="radio_obesity_2_yes" name="radios_obesity_2" value="1">
            <label for="radio_obesity_2_yes">Yes </label>
        <input type='radio' id="radio_obesity_2_no" name="radios_obesity_2" value="0"> 
            <label for="radio_obesity_2_no">No</label>
        </div></td>
    </tr>
    
    <tr>
    	<td><div class='numberCircle'>5</div></td>
		<td>Do you have a family history of heart disease, diabetes, obesity or hypertension? </td>
		<td><div style='width:800px'>
		<input type='radio' id='radio_obesity_3_yes' name='radio_obesity_3' value='1'>
		<label for='radio_obesity_3_yes'>Yes</label>
		<input type='radio' id='radio_obesity_3_no' name='radio_obesity_3' value='1'>
		<label for='radio_obesity_3_no'>No</label>
		</div></td>
	</tr>
    
    <tr>
    	<td><div class='numberCircle'>6</div></td>
		<td>Do you crave sweets and carbohydrates? </td>
		<td><div style='width:800px'>
		<input type='radio' id='radio_obesity_4_yes' name='radio_obesity_4' value='1'>
		<label for='radio_obesity_4_yes'>Yes</label>
		<input type='radio' id='radio_obesity_4_no' name='radio_obesity_4' value='1'>
		<label for='radio_obesity_4_no'>No</label>
		</div></td>
	</tr>

    <tr>
    	<td><div class='numberCircle'>7</div></td>
		<td>Do you have difficulty losing weight? </td>
		<td><div style='width:800px'>
		<input type='radio' id='radio_obesity_5_yes' name='radio_obesity_5' value='1'>
		<label for='radio_obesity_5_yes'>Yes</label>
		<input type='radio' id='radio_obesity_5_no' name='radio_obesity_5' value='1'>
		<label for='radio_obesity_4_no'>No</label>
		</div></td>
	</tr>

</table>
	<div class='btn'>
		<button id='obesity-submit'>Submit</button>
		<button id='skip-obesity'>Skip</button>
	</div>
</div>

<div id='results'>
	<h3>Your results:</h3>

	<div id="emailModal" class="reveal-modal" data-reveal>
	  <h5>Your email address</h5>
	  <input type='text' id='email-address'>
	  <div class='btn'>
	  	<button id='submit-email' class='close-reveal-modal'>Submit</button>
	  </div>
	</div>

	<div class='btn'>	
		<button id='email-me' class='open-modal' data-reveal-id='emailModal'>Email Results to Me</button>
		<button id='submit-to-doctor'>Submit to Doctor</button>
		<button id='skip'>Skip</button>
	</div>
    
    </br></hr></br>
    
    <div class='appointment'>
        <h3>Since you have completed the questionnaire, your estimated waiting time at the hospital has been reduced to <b>10</b> minutes.</h3>
        <h3>We have empty time slots before and after your scheduled appointment. Would you like to take advantage of this opportunity?</h3>
    </div>

    <div id="rescheduler" class="reveal-modal" data-reveal>
      <h5>Available slots</h5>
      <table align="center" width="500px" margin="0 auto">
        <tr>
            <td><div style='width:500px'><input type='radio' id="slot_before" name="timeslot" value="-1">
                <label for="slot_before">3:30 PM</label>
            <input type='radio' id="slot_current" name="timeslot" value="0"> 
                <label for="slot_current">Don't Change - 4:00 PM</label>
            <input type='radio' id="slot_after" name="timeslot" value="1"> 
                <label for="slot_after">4:45 PM</label>
            </div></td>
        </tr>
      </table>
        
      <h5>Your phone number to receive SMS confirmation (optional)</h5>
	  <input type='text' id='phone-number'>
	  <div class='btn'>
	  	<button id='phone-confirm' class='close-reveal-modal'>Submit</button>
	  </div>
        
	  <h5>Your email address to receive confirmation</h5>
	  <input type='text' id='email-address'>
	  <div class='btn'>
	  	<button id='email-confirm' class='close-reveal-modal'>Submit</button>
	  </div>
	</div>

    <div class='btn'>
		<button id='availability' class='open-modal' data-reveal-id='rescheduler'>See new availability</button>
	</div>

</div>

<script>
    
var healthScore = 10,
	canvas,
	serverObject = {},
	socket;

$(document).foundation();

if (io) {
  socket = io.connect('/user');
}

$('#sign-in').on('click', function() {
	var fname = $('input[name="fname"]').val(), 
	 lname = $('input[name="lname"]').val();
	socket.emit('query', { 'fname' : fname, 'lname' : lname });
	serverObject.fname = fname;
	serverObject.lname = lname;
	socket.on('query-response', function(res) {
		var person = res[0];
		$('#previous-input-text').append("<h5><strong>First name:</strong> " + person.fname + "<br><strong>Last name:</strong> " + person.lname + "<br><strong>Date of birth:</strong> " + person.DOB + "<br><strong>Age:</strong> " + person.age + "<br><strong>Sex:</strong> " + person.sex + "<br><strong>Illness:</strong> " + person.illness + "<br><strong>Symptoms:</strong> " + person.symptoms.join(", ") + "</h5>");
		$('#name-input').hide();
		$('html,body').animate({scrollTop: $('html,body').offset().top}, 200);
		$('#previous-input').show();
	});
});

$('#previous-input-next').on('click', function() {
	$('#previous-input').hide();
	$('#symptoms').show();
});

$('#symptom-submit, #skip-symptom').on('click', function() {
	if ($('#symptoms-text').val()) {
		serverObject.newSymptoms = $('#symptoms-text').val();
	}
	$('#symptoms').hide();
	$('html,body').animate({scrollTop: $(this).offset().top}, 200);
	$('#phq-survey').show();
});

$('#phq-submit, #skip-phq').on('click', function() {
	var sum = 0;
	for (var i = 1; i <= 10; i++) {
		var currVal = $('input[name="radios' + i + '"]:checked').val();
		if (!currVal) {
			currVal = 0;
		}
		sum += parseInt(currVal);
	}
	serverObject.phq = sum;
	$('#phq-survey').hide();
	$('html,body').animate({scrollTop: $(this).offset().top}, 200);
	$('#skin-quiz').show();
});

$('#skin-submit, #skip-skin-quiz').on('click', function() {
	$('#skin-quiz').hide();
	$('html,body').animate({scrollTop: $(this).offset().top}, 800);
	$('#skin-picture').show();
	canvas = document.getElementById("canvas"),
		context = canvas.getContext("2d"),
		video = document.getElementById("video"),
		videoObj = { "video": true },
		errBack = function(error) {
			console.log("Video capture error: ", error.code); 
		};

	if(navigator.getUserMedia) { 
		navigator.getUserMedia(videoObj, function(stream) {
			video.src = stream;
			video.play();
		}, errBack);
	} else if(navigator.webkitGetUserMedia) { 
		navigator.webkitGetUserMedia(videoObj, function(stream){
			video.src = window.webkitURL.createObjectURL(stream);
			video.play();
		}, errBack);
	}
	else if(navigator.mozGetUserMedia) {
		navigator.mozGetUserMedia(videoObj, function(stream){
			video.src = window.URL.createObjectURL(stream);
			video.play();
		}, errBack);
	}

	$('#take-pic').on('click', function() {
		context.drawImage(video, 0, 0, 640, 480);
		serverObject.skinpic = canvas.toDataURL();
	});
});

$('#skin-pic-submit, #skip-skin-pic').on('click', function() {
	$('#skin-picture').hide();
	$('html,body').animate({scrollTop: $(this).offset().top}, 200);
	$('#obesity-quiz').show();
});

$('#obesity-submit, #skip-obesity').on('click', function() {
	$('#obesity-quiz').hide();
	$('html,body').animate({scrollTop: $(this).offset().top}, 200);
	$('#results').show();
});

$('#email-me').on('click', function() {
	$('#submit-email').on('click', function() {
		serverObject.email = $('#email-address').val();
	    socket.emit('send-email', serverObject);
	});
});

// Chul's experiment - DELETE if the app crashes.
// Twilio client:
    
$('#availability').on('click', function() {
    $('#email-confirm').on('click', function() {
		serverObject.email = $('#email-address').val();
	    socket.emit('send-email', serverObject);
	});
    $('#phone-confirm').on('click', function() {
        socket.emit('twilio-sms', {
            'to': '+14434747584', // Any number Twilio can deliver to
            'from': '+18183084802', // A number you bought from Twilio and can use for outbound communication
            'body': 'Yo dawg, yaw appointment got rescheduled!' // body of the SMS message
        });
        // Create (send) an SMS message
        // POST /2010-04-01/Accounts/ACCOUNT_SID/SMS/Messages
        // "create" and "update" aliases are in place where appropriate on PUT and POST requests
    });
});
    
$('#submit-to-doctor').on('click', function() {
		socket.emit('submit-to-doc', serverObject);
});

</script>

<!--BMI calculator-->
<script>
    function calculate() {
        var feet = document.getElementById('feet').value;
        var inches = document.getElementById('inches').value;
        var weight = document.getElementById('weight').value;
        var sum_inches = parseInt(feet) * 12 + parseInt(inches);
        var sum = parseFloat(weight) / Math.pow(sum_inches, 2) * 703;

        var output = document.getElementById('result');
        output.innerHTML = 'Your BMI is ' + sum.toFixed(2);
        
        var w_status = "normal.";
        if (sum < 18.5) {
            document.getElementById('w_status').style.color="yellow";
            w_status = "underweight.";
        } else if (sum >= 18.5 && sum <= 24.9) {
            document.getElementById('w_status').style.color="green";
            w_status = "normal!";
        } else if (sum >= 25.0 && sum <= 29.9) {
            document.getElementById('w_status').style.color="yellow";
            w_status = "overweight.";
        } else if (sum >= 30) {
            document.getElementById('w_status').style.color="red";
            w_status = "obese.";
        }
        document.getElementById('w_status').style.fontWeight="700";
        
        var w_output = document.getElementById('w_status');
        w_output.innerHTML = 'Your weight is ' + w_status;
    }
</script>
<!--

Twilio SMS
<script>
    // Create a client:
    var client = require('twilio')('AC554454875ef2761dfd97bf9f4d438baa', 'c2af4f4d0f28090ead35c5b0b4fc8a16');
    
    // Create (send) an SMS message
    // POST /2010-04-01/Accounts/ACCOUNT_SID/SMS/Messages
    // "create" and "update" aliases are in place where appropriate on PUT and POST requests
    client.sms.messages.post({
        to:'+14434747584',
        from:'+18183084802',
        body:'Confirmation: Your appointment has been rescheduled!'
    }, function(err, text) {
        console.log('You sent: '+ text.body);
        console.log('Current status of this text message is: '+ text.status);
    });
</script>
-->
</body>
</html>